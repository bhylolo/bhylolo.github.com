# 敏捷软件开发
**敏捷软件开发** *Agile software Development* 是一种软件开发方法，基于迭代和增量开发，通过自组织,跨团队，沟通协作完成开发工作。

> 2001年2月11日到13日，17位软件开发领域的领军人物聚集在美国犹他州的滑雪胜地鸟（Snowbird）雪场。经过两天的讨论，“敏捷”（Agile）这个词为全体聚会者所接受，用以概括一套全新的软件开发价值观。这套价值观，通过一份简明扼要的《敏捷宣言》，传递给世界，宣告了敏捷开发运动的开始。

### 敏捷的价值观

- 个体互动，高于流程和文档
- 与客户合作，高于合同谈判
- 响应变化，高于遵循计划
- 交付能工作的软件，高于详尽的文档

### 敏捷开发12条准则
1. 最高目标是，通过尽早和持续地交付有价值的软件来满足客户
2. 欢迎对需求提出变更——即使是在项目开发后期。要善于利用需求变更，帮助客户获得竞争优势
3. 要不断交付可用的软件，周期从几周到几个月不等，且越短越好
4. 项目过程中，业务人员与开发人员必须在一起工作
5. 要善于激励项目人员，给他们以所需要的环境和支持，并相信他们能够完成任务
6. 无论是团队内还是团队间，最有效的沟通方法是面对面的交谈
7. 可用的软件是衡量进度的主要指标
8. 敏捷过程提倡可持续的开发。项目方、开发人员和用户应该能够保持恒久稳定的进展速度
9. 对技术的精益求精以及对设计的不断完善将提升敏捷性
10. 要做到简洁，即尽最大可能减少不必要的工作。这是一门艺术
11. 最佳的架构、需求和设计出自于自组织的团队（self-organizing teams）
12. 团队要定期反省如何能够做到更有效，并相应地调整团队的行为

### 敏捷实践
- [Pair Programming 结对编程](#pp)
- [TDD测试驱动开发](#tdd)
- [KanBan看板](#kanban)
- [XP极限编程](#xp)
- [Scrum](#scrum)

---

<h2 id="pp">Pair Programming 结对编程</h2>
Pair Programming 结对编程模式：
 - 流模式（Flow）——两个程序员共同从事一个有挑战性的问题。
 - 指导模式（Coaching）——老练的程序员在解决问题方面有经验和知识，可以与其他不能有效地独自解决问题的程序员分享。

![结对编程](https://upload.wikimedia.org/wikipedia/commons/a/af/Pair_programming_1.jpg)

---
<h2 id="tdd">Test-driven development 测试驱动开发</h2>
测试驱动开发（TDD/Test-Driven Development） 是指以测试用例为出发点，不写一行代码的情况下，编写单元测试（不是指测试人员驱动开发人员搞开发），然后开始编写代码使之通过测试。这样做的好处是直指目标，达到目标被视为最高优先级。TDD的执行离不开重构，因为软件开发通常是通过不断的重构达到最优的代码，用以实现：不过度设计、不做偏。它的大概流程如下图所示：

![TDD](https://upload.wikimedia.org/wikipedia/commons/0/0b/TDD_Global_Lifecycle.png)

---
<h2 id="kanban">KanBan看板</h2>

![KanBan](https://upload.wikimedia.org/wikipedia/commons/c/c2/Sample_Kanban_Board.png)

---
<h2 id="xp">XP极限编程</h2>

**XP** 是一个轻量级的、灵巧的软件开发方法；同时它也是一个非常严谨和周密的方法。它的基础和价值观是交流、朴素、反馈和勇气。即任何一个软件项目都可以从四个方面入手进行改善：加强交流；从简单做起；寻求反馈；勇于实事求是。XP是一种近螺旋式的开发方法，它将复杂的开发过程分解为一个个相对比较简单的小周期；通过积极的交流、反馈以及其它一系列的方法，开发人员和客户可以非常清楚开发进度、变化、待解决的问题和潜在的困难等，并根据实际情况及时地调整开发过程。

### 什么叫XP 
如果某个实践好，那就做到极限
- 如果代码评审好，那就总做代码评审（结对编程）
- 如果测试好，那就让每个开发人员都做测试（单元测试）
- 如果设计好，那就让每个开发人员天天做重构refectoring
- 如果简单就是好的，那就尽可能的选择简单的方法来实现功能
- 如果架构重要，那就让每个人时刻了解、完善架构
- 如果集成测试重要，那每天都做持续集成
- 如果短迭代好，那就让迭代变得极短

### XP的四个核心工程活动
- 编码
- 测试
- 倾听
- 设计

### XP的价值
- 沟通
- 简洁。*宁可用简单的方法来实现功能，也不要预测未来，不要实现大而全的功能，如果需要，将来再改，坚决避免开发出没人用的功能*
- 反馈
- 勇气

### XP的五个基本原则
- 快速反馈
- 简洁至上
- 增量变更
- 拥抱变化
- 质量至上

### XP的十二条实践
- 计划活动 *the planning game*
- 小版本 *small releases*
- 隐喻 *metaphor* ：用一个简单，通用的描述系统功能的故事来指导所有的开发
- 简单设计 *simple design*
- 测试 *testing*
- 重构 *refactoring* ：在不改变系统功能的前提下，开发人员不断的调整代码结构，消除重复，改善代码可读性，简化代码复杂程度，让代码变得更灵活
- 结对编程 *pair programming* ：所有的程序都是由两个程序员在一台机器上写出的
- 代码共享 *collective ownership* ：任何人都可以随时随地修改系统中的代码
- 持续集成 *continuous integration* ：每当完成一个任务后就进行集成和构建，有可能每天会要多次集成构建
- 不加班 *40 hour week* ：不能允许团队连续加班两周
- 现场客户 *on-site customer* ：有一个真正的用户自始至终都参与团队开发，随时回答团队的问题
- 代码标准 *coding standards* ：所有的程序员都遵循同样的编码规范要求

---
<h2 id="scrum">Scrum</h2>

- [哲学](#philosophy)
- [框架](#framework)
- [最佳实践](#practice)

<h3 id="philosophy" />

### 关键价值
- 透明
- 解释
- 调整

### 实践艺术
- 自我管理
- 管理者从监控到服务型的转变
- 追求问题的解决而不是最佳解决方案
- 对工程师能力提升和自律的要求

<h3 id="framework">框架</h3>

![framework](https://upload.wikimedia.org/wikipedia/commons/d/df/Scrum_Framework.png)

#### 重要文档
- [需求池 *Product backlog*](#pb)
- [冲刺任务列表 *Sprint backlog*](#sb)
- [燃尽图 *Burn down chart*](#bd)

<h5 id= "pb">需求池 Product backlog</h5>
由产品经理（product owner）发布、管理，将产品所有可能的需求都包含在其中，并排列好优先级。对于开发团队，PB是唯一的需求入口，PO在制作PB的时候只需要有效的支持开发，不需要支持维护。

- 它是一个列表，罗列出所有项目中希望要做的工作，里面包含：
 - Features
 - Bugs
 - Technical work
 - Knowledge acquisition知识获得，例如培训资料
 - Technical debt 技术债
- 里面所有的项目都应有优先级
- 由product owner 来确定、调整其优先级
- 对于开发团队，PB是唯一的需求入口，PO在制作PB的时候只需要有效的支持开发
- 列出的所有工作应该是high-level的，详细的内容会在后面添加
 > 细化到什么程度just enough， 什么时机细化just in time
- PB应当方便从文档转换成其他形式，以便于讨论。

<h5 id= "sb">冲刺任务列表 Sprint backlog</h5>
由跨职能团队从PB中选取一定的任务放在其中，作为每一个迭代的目标，每一个需求被分解成不同的任务。

![taskboard](https://upload.wikimedia.org/wikipedia/commons/1/1b/Scrum_task_board.jpg)

<h5 id="bd">燃尽图 Burn down chart</h5>
分为迭代内部管理的燃尽图，确认迭代的进度；另一种，是PB管理的燃尽图，在每次迭代结束后更新，监督整个项目的完成情况。

![dailyburndown](https://upload.wikimedia.org/wikipedia/commons/8/8e/SampleBurndownChart.svg)

![releaseburnup](https://upload.wikimedia.org/wikipedia/commons/4/4d/SampleBurnupChart.png)

#### 角色
- 产品经理 *Product owner* ：把控产品的方向，确保最终的产品就是用户所需要的。产品的远景，产品发布计划，判断每一个需求的业务价值、重要性、优先级，的收集用户的 反馈。
- Scrum master： 保证PO和team 能够正常的沟通、协同，确保整个团队不受外界干扰。
- 开发 *Team/Leader* ：决定如何做，做估算，每次迭代怎么做。所有的需求来源只从PO来，由PO收集所有的客户的需求和反馈。将每一个需求分解成对应的任务。

#### 活动
- 需求列表梳理 *Product backlog grooming* ：一般是在迭代的第二周开展的，根据目前的状况，为项目下一个迭代做准备。
- 冲刺计划（Sprint planning）
 - 每一个Sprint时长一般为2周，最短不少于1周，最长不超过4周
 - 任务来自于需求池PB
 - 确定哪些UserStory（功能）将在接下来的迭代中做
 - 是由用户告知的，希望系统应该如何工作的
 - 通常是卡片形式，并有估算和注释
 - 是工程师和PO、业务人员讨论后的结果
 - 验收标准
 - 细化粒度，确保是能在一周内完成

 ![sp](https://upload.wikimedia.org/wikipedia/commons/5/58/Scrum_process.svg)

- 站立会议 *Daily scrum*
 - 时长：每日早上 5~15分钟
 - 与会人员：Team中全体成员
 - 内容
 - 回顾昨天工作完成情况
 - 简单描述今天工作内容
 - 遇到哪些问题、困难
 - 要点
 - Team Leader了解项目、团队实际情况
 - 发现异常问题
 - 如有异常问题等，不在例会上讨论，而是结束后和特定人专门讨论

 ![daily scrum](https://upload.wikimedia.org/wikipedia/commons/4/4a/Daily_sprint_meeting.jpg)

- 阶段工作内容展示 *Sprint review* ：每次sprint结束后，用来演示sprint达成的目标，完成的功能，听取用户反馈
 - 时机：每次Sprint结束之后
 - 参与者：Team、PO、Scrum Master
 - 内容：Sprint计划中承诺的内容
 - 成果：一个可用的产品，包含新功能的

 > 标准定义
 > - 可用 不等于 可发布
 > - 最低标准是：通过单元测试
 > - 最高标准是：通过全部测试
 > - 采用何种标准，由团队决定
- 回顾 *Retrospective* ：每次sprint结束之后，由团队内部人员参加的，反思这次sprint中哪些环节做的比较好，哪些环节做的不够
 - 时机：Sprint review之后
 - 参与者：Team
 - 内容
 - 回顾本次Sprint中的优缺点
 - 评估团队开发效率，为下次估算做基础
 - 发现问题
 - 评估产品风险
 - 评估技术债

<h3 id="practice">最佳实践</h3>
  
#### 如何确保项目能够按时按量的交付
- 有一个知道自己速率的、密切合作的跨职能团队
- 通过每日例会实现同步开发及问题的及时解决，尽可能在识别出开发障碍后的24小时之内将其清除。
- 细化用户故事，让其粒度足够小，能够在一周之内完成。
- 对每一条迭代需求列表中的需求，都有明确的严格的“完成”done
- 让每日持续集成制度化，这样能够最大限度的降低发布工作量的投入
- 冲刺sprint中对团队工作的零干扰，让团队专注于开发
  
#### 如何做到团队的自我管理
- 明确scrum role角色的职责，团队清楚自己应有的担当，并作出承诺
- 冲刺评审会sprint review对已经开发好的软件特性作出反馈，使得团队能够及时的调整产品的方向，降低产品变更的成本。
- 冲刺回顾会议sprint retrospective对开发过程的反馈，使得团队能够及时的纠正问题，持续的改进过程，降低犯错带来的成本
- 每日例会daily scrum（standup）让每个成员对团队负责，努力做好自己的工作，不拖整个团队的后腿
- 由团队决定哪些需求任务放入迭代需求列表sprint backlog，由团队决定如何实现需求特性，相信他们会把工作做好，会在实践中提高能力。
  
#### 如何让开发过程变得透明
- 正确使用scrum的三个文档product backlog，sprint backlog，burn down chart
- 设计管理好你的敏捷岛，用最简明的方式展示sprint，version statue
- 开好所有scrum中的会议，让透明的过程服务于必要的检查和调整。 
  
#### 如何获得产品的反馈并及时调整
- Sprint view 是获取反馈的最好时机，对于需求不明确的项目，这个会议更是最重要的。
- 产品需求列表的细化会议，是团队和产品经理形成默契，一起加深需求理解的重要活动，也是平衡产品需求价值和成本的好机会
- 在整个开发过程中，团队可以随时和产品经理沟通，随时确认实现的需求
  
#### 如何保证可持续的开发节奏
- scrum中时间盒 time box指的是固定的sprint周期，固定的会议时间，它创造了可预测的工作步调
- 团队的速率，也是形成团队开发节奏的重要保障
- scrum中固定的例会，固定的工作环境，共同遵守的工程实践，都有助于开发节奏的形成
- scrum对技术债务的管理要求，防止团队只追求速度，有助于把握节奏。 

####  如何维护好版本计划
- 每次sprint之后计算团队的速率，让产品经理知道团队的开发能力，每次sprint能实现多少功能，让版本计划变得有意义
- 根据团队的能力来调整计划，是保证计划准确的主要手段
- 产品经理根据最新进展对产品需求列表进行维护，是确保在进度压力大的情况下，首先发布对用户最有价值的功能的保障
- 远粗近细的原则，让产品经理和团队高效完成版本计划工作、

####  如何让团队比较准确的计划每一次Sprint
- 赋予团队权利，让团队决定每次sprint完成哪些user story
- 团队速率可以让团队自己选择每次sprint完成多少user story
- Product backlog的优先级次序，可以让团队自己选择完成哪些优先级高的user story
- INVEST的原则和需求细化会议让在极短的sprint周期中完成可发布的软件功能变得可行，这也是团队做sprint plan的基础

####  如何有效控制“带病迭代”
- 敏捷对卓越技术的追求以明确完成done标准是控制带病迭代的关键
- 持续集成等有效的工程实践也是sprint质量的保证
- Sprint review会议让团队及时的发现带来隐患的做法，并及时在下一次迭代中纠正
- 燃尽图burn down chart能让团队及时的发现隐患对团队效率带来的影响
- 团队的自律及相互负责的文化使得不鼓励走“技术捷径”
- XP是辅助scrum解决带病迭代的好办法

####  如何设计好产品功能
> *找到痛点最有效的方式是，看它能够用最简洁语言描述出来*
- Elevator statement 电梯测试：在电梯到达一楼之前，向对方说明产品特点。在2分钟内向客户解释产品，用简短的语言描述产品的优势
  - 为谁
  - 产品给客户带来的价值
  - 是属于哪一类的产品
  - 和竞争对手比，好在哪里
  - 产品的主要区分点和价值点
- Vision box 产品包装盒上的说明
  - 假设，可能并没有，有一个盒子来装这个产品
  - 印刷在盒子上，使用3-4条来描述这个产品
- Press release 新闻稿
- Magazine review 杂志上的介绍

####  如何建立一个敏捷团队
- 设计、编程能力
- 理解业务需求问题能力，所有成员必须都具备一定业务背景知识，能够和产品经理沟通需求，正确理解需求支持设计、开发和测试工作。
- 理解软件规范及规则能力，需要有领域专家。
- 设计用户界面的能力，需要有类似美工的人员。
- 清楚理解模块间调用关系，对于复杂的系统要有接口设计的能力。
- 识别软件中错误的能力，需要有对业务、设计、白盒测试和测试技术都熟悉的人。
- 处理好团队外关系的能力，需要有项目管理人员
- 熟悉敏捷实践，需要了解如何让敏捷实践有效的在团队中落地。
- 具备持续改进的习惯，一开始可能需要一个敏捷教练。

---
<h2 id="ref">引用</h2>
以上所有图片资源，来自Wikipedia。


